## 7.1

### Умова

Використайте popen(), щоб передати вивід команди rwho (команда UNIX) до more (команда UNIX) у програмі на C.
### Рішення

Програма відкриває два потоки за допомогою popen() — перший для читання виводу команди rwho (who у коді), другий для запису у команду more.
В циклі зчитуються рядки з виводу rwho за допомогою fgets() та одразу записуються у вхід more через fputs(). Після завершення копіювання обидва потоки закриваються функцією pclose().
Таким чином, користувач бачить вивід команди rwho посторінково, використовуючи можливості more.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.1/image.png)

## 7.2

### Умова

Напишіть програму мовою C, яка імітує команду ls -l в UNIX — виводить список усіх файлів у поточному каталозі та перелічує права доступу тощо.
(Варіант вирішення, що просто виконує ls -l із вашої програми, — не підходить.)

### Рішення

Програма відкриває поточний каталог за допомогою opendir() і читає його вміст циклом readdir(). Пропускає приховані файли . та ... Для кожного файлу виконує системний виклик stat() для отримання інформації про файл.
Функція show_mode() виводить тип файлу та права доступу у форматі, подібному до ls -l.
Далі виводиться кількість жорстких посилань, ім’я власника (getpwuid()), групи (getgrgid()), розмір файлу, час останньої модифікації (strftime() для форматування), і нарешті — ім’я файлу.
Таким чином, реалізується базова імітація команди ls -l без виклику самої команди.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.2/image.png)

## 7.3

### Умова

Напишіть програму, яка друкує рядки з файлу, що містять слово, передане як аргумент програми (проста версія утиліти grep в UNIX).

### Рішення

Програма приймає два аргументи командного рядка: слово для пошуку та ім’я файлу. Вона відкриває файл для читання і послідовно зчитує його рядки.
Для кожного рядка виконується пошук переданого слова за допомогою функції strstr(). Якщо слово знайдено, рядок виводиться на екран.
Якщо аргументи не передані або файл не відкривається, виводяться відповідні повідомлення про помилки. Програма реалізує базову функціональність UNIX-команди grep без складних опцій.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.3/image.png)

## 7.4

### Умова

Напишіть програму, яка виводить список файлів, заданих у вигляді аргументів, з зупинкою кожні 20 рядків, доки не буде натиснута клавіша (спрощена версія утиліти more в UNIX).

### Рішення

Програма приймає аргументи командного рядка — імена файлів для виводу. Для кожного файлу вона послідовно виводить його вміст на екран, зупиняючись кожні 20 рядків і очікуючи натискання клавіші користувачем, перш ніж продовжити.
У разі відсутності аргументів програма виводить повідомлення про правильне використання. Вивід відбувається построково з використанням функції fgets(). Після кожних 20 рядків програма чекає на натискання клавіші (наприклад, через getchar()).
Таким чином реалізується базова функціональність UNIX-команди more, яка дозволяє зручно переглядати довгі файли по частинах.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.4/image.png)

## 7.5

### Умова

Напишіть програму, яка перелічує всі файли в поточному каталозі та всі файли в підкаталогах.

### Рішення

Програма рекурсивно обходить поточний каталог та всі його підкаталоги. Для кожного елемента каталогу перевіряється, чи є він директорією або файлом. Якщо це директорія (крім "." та ".."), функція викликає себе рекурсивно для обходу підкаталогу. Якщо це файл, його повний шлях виводиться на екран.
Таким чином реалізується повний рекурсивний перелік усіх файлів у поточному каталозі і вкладених підкаталогах.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.5/image.png)

## 7.6

### Умова

Напишіть програму, яка перелічує лише підкаталоги у алфавітному порядку.

### Рішення

Програма рекурсивно обходить поточний каталог і всі підкаталоги, виводячи лише імена підкаталогів. Для кожного каталогу програма формує повний шлях, перевіряє, чи є цей шлях директорією, і виводить його. Далі виконується рекурсивний виклик функції для обходу підкаталогів.
Для виводу в алфавітному порядку необхідно попередньо зібрати імена підкаталогів у масив, відсортувати їх і потім виводити та рекурсивно обробляти. У наведеному коді сортування не реалізоване, тому для повного виконання умови слід додати збір і сортування імен перед виводом.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.6/image.png)

## 7.7

### Умова

Напишіть програму, яка показує користувачу всі його/її вихідні програми на C, а потім в інтерактивному режимі запитує, чи потрібно надати іншим дозвіл на читання (read permission); у разі ствердної відповіді — такий дозвіл повинен бути наданий.

### Рішення

Програма відкриває поточний каталог, знаходить усі файли з розширенням .c (вихідні коди на C), виводить їх користувачу та запитує, чи додати дозвіл на читання для інших користувачів (others). Якщо користувач відповідає y або Y, то виконує зміну прав доступу за допомогою chmod, додаючи біт S_IROTH.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.7/image.png)

## 7.8

### Умова

Напишіть програму, яка надає користувачу можливість видалити будь-який або всі файли у поточному робочому каталозі. Має з’являтися ім’я файлу з запитом, чи слід його видалити.

### Рішення

Програма відкриває поточний каталог, перебирає всі файли (окрім прихованих), виводить ім’я кожного файлу, і запитує у користувача, чи потрібно його видалити. Якщо користувач вводить y або Y, файл видаляється за допомогою функції remove().

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.8/image.png)

## 7.9

### Умова

Напишіть програму на C, яка вимірює час виконання фрагмента коду в мілісекундах.

### Рішення

Програма використовує функції clock() з бібліотеки <time.h> для визначення часу початку і кінця виконання певного коду. Різниця між цими часами перетворюється в мілісекунди.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.9/image.png)

## 7.10

### Умова

Напишіть програму мовою C для створення послідовності випадкових чисел з плаваючою комою у діапазонах:
 (a) від 0.0 до 1.0
 (b) від 0.0 до n, де n — будь-яке дійсне число з плаваючою точкою.
Початкове значення генератора випадкових чисел має бути встановлене так, щоб гарантувати унікальну послідовність.

### Рішення

Щоб отримати унікальну послідовність випадкових чисел при кожному запуску, генератор випадкових чисел ініціалізується значенням часу системи (time(NULL)), що змінюється щосекунди. Це забезпечує різні послідовності при кожному запуску програми.
Для отримання випадкового числа з плаваючою точкою у діапазоні від 0.0 до 1.0 використовується вираз (double)rand() / RAND_MAX. Функція rand() повертає ціле число від 0 до RAND_MAX, тому ділення на RAND_MAX нормалізує його у діапазон [0,1].
Для генерації випадкового числа у діапазоні від 0.0 до n отримане число у [0,1] множиться на n, що масштабує значення до потрібного діапазону.

![Example Image](https://github.com/dims3926r/aspz/blob/main/p7/p7.10/image.png)
